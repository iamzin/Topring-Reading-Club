# 테스트

### 왜 필요한가?
* 작은 단위의 테스트를 거친 후, 해당 단위들이 관심사 별로 모여 한 기능에 대한 테스트로 취합될 수 있다.
* 사이드 이펙트 파악을 빠르고 쉽게 할 수 있다 즉, 이슈 해결이 빨라진다.

다르게 말하면 설계 내 누락 사항 없이 개발하고, 지속적인 개선과 점진적인 개발을 위해 테스트 코드를 작성한다.

### 무엇이 중요한가?
* 테스트 결과의 일관성

아래 2가지 case 중 어떤 것이 사이드 이펙트 발생률이 현저히 적을까?

1. 테스트 수행 전, 테스트에 이상 없는 상태로 만들기
2. 테스트 수행 후, DB 내 data를 일괄 삭제 하기

테스트를 위해 만들어진 데이터는 목적을 다 했기 때문에 삭제하는 것이 낫다고 판단할 수 있다.
다만, 이는 해당 테스트 1개만 진행한다는 전제가 있어야 한다.  
어떤 data는 다른 여러 테스트 때문에 존재할 수 있다. 작업 플로우 내에서 언제 테스트를 실행할지 알 수 없기 때문이다. 따라서 해당 테스트 진행에 이상이 없는 상태로 만드는 준비 작업이 효과적이다.

### 어떻게 구성하는가?
* DI 테스트
* 스프링 컨테이너 활용

스프링은 비침투적 기술이다.
스프링 컨테이너 없는 DI 테스트가 가능한 이유다.  
테스트 구성은 상황에 따라 선택하면 된다.
오브젝트들이 다양하고 복잡한 관계를 맺고 있을 경우에는 스프링 설정을 활용한 테스트가 효율적인 것처럼 말이다.


### 흥미로운 점
* 학습 테스트

스프링과 같은 프레임워크 사용법에 대한 테스트 코드를 작성해 보는 것이다.
이는 테스트 코드 작성에 좋은 훈련이 됨은 물론이며, 해당 프레임워크(혹은 다른 무엇)의 활용도, 이해도를 높일 수 있다.  
예를 들어 프로젝트에서 사용할 프레임워크를 어떻게 사용할지 설계하고, 이 설계가 가능한지 또는 어떻게 적용할지 테스트해 볼 수 있기 때문이다.

  
> 이일민, 『토비의 스프링 3.1 Vol.1 스프링의 이해와 원리』, 에이콘-2012, 2장 테스트