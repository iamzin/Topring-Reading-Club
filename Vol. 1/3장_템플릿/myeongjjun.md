# 3장_템플릿
- 스프링이 사용하고 있는 템플릿을 찾아보자
- 최근 스프링은 조금 달라졌는데 그 부분에 대한 생각도 해보는게 좋을 것 같다.
## 코멘트
- p.236
  - 두 객체가 긴밀한 관계를 가지고 강하게 결합되어야하는 경우 굳이 인터페이스를 사용할 필요가 없다!
  - 클래스를 직접 의존한다는 것은 강력한 결합을 가진 관계를 드러내는 것
  - 인터페이스를 무조건 써야한다!!라고 많이 들었지만 또 다른 관점으로 다가 왔다. 결국 모든 것은 의도나 타당한 이유를 가지고 이야기 할 수 있어야 된다라고 생각했다.
- p.265 `JdbcTemplate은 스프링이 제공하는 클래스이지만 DI 컨테이너를 굳이 필요로 하지 않는다.`
  - 직접 필요한 DataSource를 전달하기하면 DI 컨테이너를 필요로 하지는 않는다.
  - DataSource 세팅을 config 파일 등으로 세팅하여 활용을 해왔어서 spring 컨테이너에 등록되어 사용되는게 당연하다고 생각을 했던 점에서 이런 공부를 하면서 깨닫게 되는 것 같다.
- p.275
  - 3장 끝에는 xml로 매핑정보를 입력하고 SQL을 외부 리소스에 담는 개선 포인트를 설명을 하시는데
  - 맞는지는 모르겠지만 mybatis 가 어떤 부분을 해결해주려고 했는지가 살짝 유추하게 되는 내용이었다.
## 정리
### 템플릿 메소드 패턴
- super class에 공통 로직을 정의하고 변경되는 부분은 추상메서드로 선언해두고 상속을 통해서 확장할 수 있는 구조
### 전략패턴
- context
- context가 사용하는 전략(알고리즘)
### 템플릿/콜백 패턴
- 보통 단일 메소드 인터페이스를 사용
- DI 방식의 전략 패턴 구조라고 생각해보기
  - 템플릿 메소드를 호출하면서 콜백 오브젝트를 전달하는 것
    - 메소드 레벨의 DI
  - 템플릿이 사용할 콜백 인터페이스를 구현한 오브젝트를 메소드를 통해서 주입하는 작업과 템플릿의 기능을 호출하는 것이 동시에 일어난다.
## 질문
## 느낀점
- 3장 전체의 많은 설명이 물흐르듯이 전개되는 것이 인상 깊었다. 이런 과정을 아주 자연스럽게 익힌다면 좋은 개발자가 될 수 있을 것 같다는 생각이 들었다.
- 최근 스프링은 달라진 점이 있다는 힌트를 주셔서 코드를 조금 봤는데 오히려 놀란점은 책에 설명된 패턴들이 매우 빈번하게 쓰이고 있다는 점이 놀라웠던 것 같다. 정말 스프링은 객체지향적인 설계와 프로그래밍이 무엇인지 일관되게 설명하는 하나의 좋은 레퍼런스라고 다시 한번 느꼈다. (달라진 점은 시간을 충분히 사용하지 못하여 찾지 못한듯 하다.)
- 템플릿/콜백 패턴을 파일을 읽어 더하기 등의 연산하는 예제로 설명하시면서 중복되는 코드를 콜백으로 추상화하고 변경되지 않는 코드를 다시 템플릿 코드에 내부로 넣으면서 리팩토링하는 과정을 단계별로 설명하고 다시 기존  userDao 예제를 jdbcTemplate 으로 변경하면서 템플릿/콜백 패턴이 적용되는 방식을 설명하는 내용이 좋았던 것 같습니다.
- 저도 변경이 되는 부분과 안되는 부분을 계속 구분하면서 리팩토링 하면서 결국 변하는 부분 한줄만 남기고 모두 템플릿/콜백 패턴으로 리팩토링 하는 과정이 특히 인상 깊었던 것 같습니다. 도진님 말씀처럼 객체지향 프로그래밍을 하는 하나의 템플릿을 알게된 기분입니다.